{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Desktop/LibraryClient/booklibrary/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/User/Desktop/LibraryClient/booklibrary/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/User/Desktop/LibraryClient/booklibrary/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import MainLoader from\"../../Components/Common/MainLoader\";import{useNavigate}from\"react-router-dom\";import{toast}from\"react-toastify\";import withAdminAuth from\"../../HOC/withAdminAuth\";import{useDeleteAuthorMutation,useGetAuthorsQuery}from\"../../Apis/authorApi\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ListAuthors(){var _useGetAuthorsQuery=useGetAuthorsQuery(null),data=_useGetAuthorsQuery.data,isLoading=_useGetAuthorsQuery.isLoading;var _useDeleteAuthorMutat=useDeleteAuthorMutation(),_useDeleteAuthorMutat2=_slicedToArray(_useDeleteAuthorMutat,1),deleteAuthor=_useDeleteAuthorMutat2[0];var navigate=useNavigate();var handleAuthorDelete=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:toast.promise(deleteAuthor(id),{pending:\"Processing your request...\",success:\"Author deleted successfully ðŸ‘Œ\",error:\"Error encountered ðŸ¤¯\"},{theme:\"dark\"});case 1:case\"end\":return _context.stop();}},_callee);}));return function handleAuthorDelete(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[isLoading&&/*#__PURE__*/_jsx(MainLoader,{}),!isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"table p-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-success\",children:\"Authors List\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:function onClick(){return navigate(\"/crud/authorUpsert\");},children:\"Add a new author\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row border\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:\"ID\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:\"Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:\"Bio\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:\"Created At\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:\"Created By\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:\"Action\"})]}),data.result.map(function(author){return/*#__PURE__*/_jsxs(\"div\",{className:\"row border\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:author.id}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:author.name}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:author.bio}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:author.createdAt}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:author.createdBy}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-1\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-pencil-fill\",onClick:function onClick(){return navigate(\"/crud/authorUpsert/\"+author.id);}})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mx-2\",onClick:function onClick(){return handleAuthorDelete(author.id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash-fill\"})})]})]},author.id);})]})]})]});}export default withAdminAuth(ListAuthors);","map":{"version":3,"names":["MainLoader","useNavigate","toast","withAdminAuth","useDeleteAuthorMutation","useGetAuthorsQuery","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ListAuthors","_useGetAuthorsQuery","data","isLoading","_useDeleteAuthorMutat","_useDeleteAuthorMutat2","_slicedToArray","deleteAuthor","navigate","handleAuthorDelete","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","wrap","_callee$","_context","prev","next","promise","pending","success","error","theme","stop","_x","apply","arguments","children","className","onClick","result","map","author","name","bio","createdAt","createdBy"],"sources":["C:/Users/User/Desktop/LibraryClient/booklibrary/src/Pages/CRUD/ListAuthors.tsx"],"sourcesContent":["import MainLoader from \"../../Components/Common/MainLoader\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport withAdminAuth from \"../../HOC/withAdminAuth\";\r\nimport { useDeleteAuthorMutation, useGetAuthorsQuery } from \"../../Apis/authorApi\";\r\nimport { authorModel } from \"../../Interfaces\";\r\n\r\nfunction ListAuthors() {\r\n  const { data, isLoading } = useGetAuthorsQuery(null);\r\n  const [deleteAuthor] = useDeleteAuthorMutation();\r\n  const navigate = useNavigate();\r\n\r\n  const handleAuthorDelete = async (id: number) => {\r\n    toast.promise(\r\n      deleteAuthor(id),\r\n      {\r\n        pending: \"Processing your request...\",\r\n        success: \"Author deleted successfully ðŸ‘Œ\",\r\n        error: \"Error encountered ðŸ¤¯\",\r\n      },\r\n      {\r\n        theme: \"dark\",\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <MainLoader />}\r\n      {!isLoading && (\r\n        <div className=\"table p-5\">\r\n          <div className=\"d-flex align-items-center justify-content-between\">\r\n            <h1 className=\"text-success\">Authors List</h1>\r\n            <button\r\n              className=\"btn btn-success\"\r\n              onClick={() => navigate(\"/crud/authorUpsert\")}\r\n            >\r\n              Add a new author\r\n            </button>\r\n          </div>\r\n          <div className=\"p-2\">\r\n            <div className=\"row border\">\r\n              <div className=\"col-1\">ID</div>\r\n              <div className=\"col-2\">Name</div>\r\n              <div className=\"col-3\">Bio</div>\r\n              <div className=\"col-2\">Created At</div>\r\n              <div className=\"col-2\">Created By</div>\r\n              <div className=\"col-1\">Action</div>\r\n            </div>\r\n\r\n            {data.result.map((author: authorModel) => {\r\n              return (\r\n                <div className=\"row border\" key={author.id}>\r\n                  <div className=\"col-1\">{author.id}</div>\r\n                  <div className=\"col-2\">{author.name}</div>\r\n                  <div className=\"col-3\">{author.bio}</div>\r\n                  <div className=\"col-2\">{author.createdAt}</div>\r\n                  <div className=\"col-2\">{author.createdBy}</div>\r\n                  <div className=\"col-1\">\r\n                    <button className=\"btn btn-success\">\r\n                      <i\r\n                        className=\"bi bi-pencil-fill\"\r\n                        onClick={() =>\r\n                          navigate(\"/crud/authorUpsert/\" + author.id)\r\n                        }\r\n                      ></i>\r\n                    </button>\r\n                    <button\r\n                      className=\"btn btn-danger mx-2\"\r\n                      onClick={() => handleAuthorDelete(author.id)}\r\n                    >\r\n                      <i className=\"bi bi-trash-fill\"></i>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withAdminAuth(ListAuthors);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}