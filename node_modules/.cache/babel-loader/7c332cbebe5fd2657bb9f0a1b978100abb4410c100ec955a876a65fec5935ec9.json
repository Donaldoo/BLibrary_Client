{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Desktop/LibraryClient/booklibrary/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/User/Desktop/LibraryClient/booklibrary/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/User/Desktop/LibraryClient/booklibrary/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import MainLoader from\"../../Components/Common/MainLoader\";import{useNavigate}from\"react-router-dom\";import{useDeleteCategoryMutation,useGetCategoriesQuery}from\"../../Apis/categoryApi\";import{toast}from\"react-toastify\";import withAdminAuth from\"../../HOC/withAdminAuth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ListCategories(){var _useGetCategoriesQuer=useGetCategoriesQuery(null),data=_useGetCategoriesQuer.data,isLoading=_useGetCategoriesQuer.isLoading;var _useDeleteCategoryMut=useDeleteCategoryMutation(),_useDeleteCategoryMut2=_slicedToArray(_useDeleteCategoryMut,1),deleteCategory=_useDeleteCategoryMut2[0];var navigate=useNavigate();var handleCategoryDelete=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:toast.promise(deleteCategory(id),{pending:'Processing your request...',success:'Category deleted successfully ðŸ‘Œ',error:'Error encountered ðŸ¤¯'},{theme:\"dark\"});case 1:case\"end\":return _context.stop();}},_callee);}));return function handleCategoryDelete(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[isLoading&&/*#__PURE__*/_jsx(MainLoader,{}),!isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"table p-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-success\",children:\"Categories List\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:function onClick(){return navigate(\"/crud/categoryUpsert\");},children:\"Add a new category\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row border\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:\"ID\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:\"Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:\"Priority\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:\"Created At\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:\"Created By\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:\"Action\"})]}),data.result.map(function(category){return/*#__PURE__*/_jsxs(\"div\",{className:\"row border\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:category.id}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:category.name}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:category.priority}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:category.createdAt}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:category.createdBy}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-1\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-pencil-fill\",onClick:function onClick(){return navigate(\"/crud/categoryUpsert/\"+category.id);}})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mx-2\",onClick:function onClick(){return handleCategoryDelete(category.id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash-fill\"})})]})]},category.id);})]})]})]});}export default withAdminAuth(ListCategories);","map":{"version":3,"names":["React","MainLoader","useNavigate","useDeleteCategoryMutation","useGetCategoriesQuery","toast","withAdminAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ListCategories","_useGetCategoriesQuer","data","isLoading","_useDeleteCategoryMut","_useDeleteCategoryMut2","_slicedToArray","deleteCategory","navigate","handleCategoryDelete","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","wrap","_callee$","_context","prev","next","promise","pending","success","error","theme","stop","_x","apply","arguments","children","className","onClick","result","map","category","name","priority","createdAt","createdBy"],"sources":["C:/Users/User/Desktop/LibraryClient/booklibrary/src/Pages/CRUD/ListCategories.tsx"],"sourcesContent":["import React from \"react\";\r\n\r\nimport MainLoader from \"../../Components/Common/MainLoader\";\r\nimport { CategoryModel } from \"../../Interfaces\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useDeleteCategoryMutation, useGetCategoriesQuery } from \"../../Apis/categoryApi\";\r\nimport { toast } from \"react-toastify\";\r\nimport withAdminAuth from \"../../HOC/withAdminAuth\";\r\n\r\nfunction ListCategories() {\r\n  const { data, isLoading } = useGetCategoriesQuery(null);\r\n  const [deleteCategory] = useDeleteCategoryMutation();\r\n  const navigate = useNavigate();\r\n\r\n  const handleCategoryDelete = async (id: number) => {\r\n    toast.promise(\r\n        deleteCategory(id),\r\n        {\r\n          pending: 'Processing your request...',\r\n          success: 'Category deleted successfully ðŸ‘Œ',\r\n          error: 'Error encountered ðŸ¤¯'\r\n        },\r\n        {\r\n            theme: \"dark\",\r\n        }\r\n    )\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <MainLoader />}\r\n      {!isLoading && (\r\n        <div className=\"table p-5\">\r\n          <div className=\"d-flex align-items-center justify-content-between\">\r\n            <h1 className=\"text-success\">Categories List</h1>\r\n            <button\r\n              className=\"btn btn-success\"\r\n              onClick={() => navigate(\"/crud/categoryUpsert\")}\r\n            >\r\n              Add a new category\r\n            </button>\r\n          </div>\r\n          <div className=\"p-2\">\r\n            <div className=\"row border\">\r\n              <div className=\"col-1\">ID</div>\r\n              <div className=\"col-2\">Name</div>\r\n              <div className=\"col-2\">Priority</div>\r\n              <div className=\"col-2\">Created At</div>\r\n              <div className=\"col-2\">Created By</div>\r\n              <div className=\"col-1\">Action</div>\r\n            </div>\r\n\r\n            {data.result.map((category: CategoryModel) => {\r\n              return (\r\n                <div className=\"row border\" key={category.id}>\r\n                  <div className=\"col-1\">{category.id}</div>\r\n                  <div className=\"col-2\">{category.name}</div>\r\n                  <div className=\"col-2\">{category.priority}</div>\r\n                  <div className=\"col-2\">{category.createdAt}</div>\r\n                  <div className=\"col-2\">{category.createdBy}</div>\r\n                  <div className=\"col-1\">\r\n                    <button className=\"btn btn-success\">\r\n                      <i\r\n                        className=\"bi bi-pencil-fill\"\r\n                        onClick={() =>\r\n                          navigate(\"/crud/categoryUpsert/\" + category.id)\r\n                        }\r\n                      ></i>\r\n                    </button>\r\n                    <button\r\n                      className=\"btn btn-danger mx-2\"\r\n                      onClick={() => handleCategoryDelete(category.id)}\r\n                    >\r\n                      <i className=\"bi bi-trash-fill\"></i>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withAdminAuth(ListCategories);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}