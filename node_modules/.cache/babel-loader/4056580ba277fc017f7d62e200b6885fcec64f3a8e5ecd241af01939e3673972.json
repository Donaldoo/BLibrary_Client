{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Desktop/LibraryClient/booklibrary/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from\"react\";import{NavLink,useNavigate}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{emptyUserState,setLoggedInUser}from\"../Storage/Redux/userAuthSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var logo=require(\"../Assets/Images/book.png\");function Header(){var navigate=useNavigate();var dispatch=useDispatch();var userData=useSelector(function(state){return state.userAuthStore;});var role=userData.role;var isAdmin=role===\"admin\";var isauthor=role===\"author\";var handleLogout=function handleLogout(){localStorage.removeItem(\"token\");dispatch(setLoggedInUser(_objectSpread({},emptyUserState)));navigate(\"/login\");};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg bg-dark navbar-dark\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",\"aria-current\":\"page\",to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,style:{height:\"40px\"},className:\"m-1\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarSupportedContent\",\"aria-controls\":\"navbarSupportedContent\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarSupportedContent\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav me-auto mb-2 mb-lg-0 w-100\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",\"aria-current\":\"page\",to:\"/\",children:\"Home\"})}),userData.id?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",\"aria-current\":\"page\",to:\"/authors\",children:\"Report page\"})}),/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item dropdown\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"nav-link dropdown-toggle\",href:\"#\",role:\"button\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:isAdmin?\"Admin panel\":\"Author panel\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",children:[isAdmin&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"dropdown-item\",onClick:function onClick(){return navigate(\"crud/listCategories\");},children:\"Categories\"}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:\"dropdown-item\",onClick:function onClick(){return navigate(\"crud/listAuthors\");},children:\"Authors\"})})]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:\"dropdown-item\",onClick:function onClick(){return navigate(\"crud/ListBooks\");},children:\"Books\"})})]})]})]}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",style:{marginLeft:\"auto\"},children:[userData.id&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"nav-link active\",style:{cursor:\"pointer\",background:\"transparent\",border:0},children:[\"Welcome \",userData.fullName]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning btn-outlined rounded-pill text-white mx-2\",style:{border:\"none\",height:\"40px\",width:\"100px\"},onClick:handleLogout,children:\"Logout\"})})]}),!userData.id&&/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsx(\"li\",{className:\"nav-item text-white\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"/register\",children:\"Register\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"btn btn-warning btn-outlined rounded-pill text-white mx-2 pt-0\",style:{border:\"none\",height:\"40px\",width:\"100px\"},children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"/login\",children:\"Login\"})})]})]})]})})]})})});}export default Header;","map":{"version":3,"names":["React","NavLink","useNavigate","useSelector","useDispatch","emptyUserState","setLoggedInUser","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","logo","require","Header","navigate","dispatch","userData","state","userAuthStore","role","isAdmin","isauthor","handleLogout","localStorage","removeItem","_objectSpread","children","className","to","src","style","height","type","id","href","onClick","marginLeft","cursor","background","border","fullName","width"],"sources":["C:/Users/User/Desktop/LibraryClient/booklibrary/src/Components/Header.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { NavLink, useNavigate } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { userModel } from \"../Interfaces\";\r\nimport { RootState } from \"../Storage/Redux/store\";\r\nimport {\r\n  emptyUserState,\r\n  setLoggedInUser,\r\n} from \"../Storage/Redux/userAuthSlice\";\r\nimport { SD_Roles } from \"../Utility/SD\";\r\nlet logo = require(\"../Assets/Images/book.png\");\r\n\r\nfunction Header() {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const userData: userModel = useSelector(\r\n    (state: RootState) => state.userAuthStore\r\n  );\r\n\r\n  const role = userData.role;\r\n\r\n  const isAdmin = role === \"admin\";\r\n  const isauthor = role === \"author\";\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    dispatch(setLoggedInUser({ ...emptyUserState }));\r\n    navigate(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <nav className=\"navbar navbar-expand-lg bg-dark navbar-dark\">\r\n        <div className=\"container-fluid\">\r\n          <NavLink className=\"nav-link\" aria-current=\"page\" to=\"/\">\r\n            <img src={logo} style={{ height: \"40px\" }} className=\"m-1\" />\r\n          </NavLink>\r\n          <button\r\n            className=\"navbar-toggler\"\r\n            type=\"button\"\r\n            data-bs-toggle=\"collapse\"\r\n            data-bs-target=\"#navbarSupportedContent\"\r\n            aria-controls=\"navbarSupportedContent\"\r\n            aria-expanded=\"false\"\r\n            aria-label=\"Toggle navigation\"\r\n          >\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n            <ul className=\"navbar-nav me-auto mb-2 mb-lg-0 w-100\">\r\n              <li className=\"nav-item\">\r\n                <NavLink className=\"nav-link\" aria-current=\"page\" to=\"/\">\r\n                  Home\r\n                </NavLink>\r\n              </li>\r\n\r\n              {userData.id ? (\r\n                <>\r\n                  <li className=\"nav-item\">\r\n                    <NavLink\r\n                      className=\"nav-link\"\r\n                      aria-current=\"page\"\r\n                      to=\"/authors\"\r\n                    >\r\n                      Report page\r\n                    </NavLink>\r\n                  </li>\r\n                  <li className=\"nav-item dropdown\">\r\n                    <a\r\n                      className=\"nav-link dropdown-toggle\"\r\n                      href=\"#\"\r\n                      role=\"button\"\r\n                      data-bs-toggle=\"dropdown\"\r\n                      aria-expanded=\"false\"\r\n                    >\r\n                      {isAdmin ? \"Admin panel\" : \"Author panel\"}\r\n                    </a>\r\n                    <ul className=\"dropdown-menu\">\r\n                      {isAdmin && (\r\n                        <>\r\n                          <li\r\n                            className=\"dropdown-item\"\r\n                            onClick={() => navigate(\"crud/listCategories\")}\r\n                          >\r\n                            Categories\r\n                          </li>\r\n                          <li>\r\n                            <a\r\n                              className=\"dropdown-item\"\r\n                              onClick={() => navigate(\"crud/listAuthors\")}\r\n                            >\r\n                              Authors\r\n                            </a>\r\n                          </li>\r\n                        </>\r\n                      )}\r\n                      <li>\r\n                        <a\r\n                          className=\"dropdown-item\"\r\n                          onClick={() => navigate(\"crud/ListBooks\")}\r\n                        >\r\n                          Books\r\n                        </a>\r\n                      </li>\r\n                    </ul>\r\n                  </li>\r\n                </>\r\n              ) : (\r\n                <></>\r\n              )}\r\n\r\n              <div className=\"d-flex\" style={{ marginLeft: \"auto\" }}>\r\n                {userData.id && (\r\n                  <>\r\n                    <li className=\"nav-item\">\r\n                      <button\r\n                        className=\"nav-link active\"\r\n                        style={{\r\n                          cursor: \"pointer\",\r\n                          background: \"transparent\",\r\n                          border: 0,\r\n                        }}\r\n                      >\r\n                        Welcome {userData.fullName}\r\n                      </button>\r\n                    </li>\r\n\r\n                    <li className=\"nav-item\">\r\n                      <button\r\n                        className=\"btn btn-warning btn-outlined rounded-pill text-white mx-2\"\r\n                        style={{\r\n                          border: \"none\",\r\n                          height: \"40px\",\r\n                          width: \"100px\",\r\n                        }}\r\n                        onClick={handleLogout}\r\n                      >\r\n                        Logout\r\n                      </button>\r\n                    </li>\r\n                  </>\r\n                )}\r\n\r\n                {!userData.id && (\r\n                  <>\r\n                    {\" \"}\r\n                    <li className=\"nav-item text-white\">\r\n                      <NavLink className=\"nav-link\" to=\"/register\">\r\n                        Register\r\n                      </NavLink>\r\n                    </li>\r\n                    <li\r\n                      className=\"btn btn-warning btn-outlined rounded-pill text-white mx-2 pt-0\"\r\n                      style={{ border: \"none\", height: \"40px\", width: \"100px\" }}\r\n                    >\r\n                      <NavLink className=\"nav-link\" to=\"/login\">\r\n                        Login\r\n                      </NavLink>\r\n                    </li>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}