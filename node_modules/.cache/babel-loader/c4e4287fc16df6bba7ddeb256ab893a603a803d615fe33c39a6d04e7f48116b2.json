{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Desktop/LibraryClient/booklibrary/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/User/Desktop/LibraryClient/booklibrary/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/User/Desktop/LibraryClient/booklibrary/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BookCard(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),author=_useState2[0],setAuthor=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),categories=_useState4[0],setCategories=_useState4[1];useEffect(function(){fetchCategories();},[props.book.id]);var fetchCategories=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://blibraryapi.azurewebsites.net/api/Book/\".concat(props.book.id,\"/categories\"));case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;setCategories(data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching categories:\",_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function fetchCategories(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchAuthor();},[]);var fetchAuthor=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"https://blibraryapi.azurewebsites.net/api/author/\".concat(props.book.authorId));case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:data=_context2.sent;setAuthor(data.result);_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.error(\"Error fetching author:\",_context2.t0);case 13:case\"end\":return _context2.stop();}},_callee2,null,[[0,10]]);}));return function fetchAuthor(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-12 p-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",style:{boxShadow:\"0 1px 7px 0 rgb(0 0 0 / 50%)\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body pt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row col-10 offset-1 p-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/bookDetails/\".concat(props.book.id),children:/*#__PURE__*/_jsx(\"img\",{src:props.book.image,style:{borderRadius:\"5%\",objectFit:\"cover\",height:\"350px\"},alt:\"\",className:\"w-100 mt-1 image-box\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-title m-0 text-success fs-3\",children:/*#__PURE__*/_jsx(Link,{to:\"/bookDetails/\".concat(props.book.id),style:{textDecoration:\"none\",color:\"green\"},children:props.book.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-wrap justify-content-center pb-3\",children:categories.map(function(category){return/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-secondary m-1\",style:{fontSize:\"12px\"},children:category.name},category.id);})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",style:{textAlign:\"center\",height:\"120px\",overflow:\"hidden\"},children:props.book.description}),/*#__PURE__*/_jsx(\"div\",{className:\"row text-center\",style:{color:\"green\"},children:/*#__PURE__*/_jsx(\"h4\",{children:author?author.name:\"Loading author...\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"badge bg-secondary\",style:{fontSize:\"12px\"},children:props.book.createdAt}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Created by: \",props.book.createdBy]})]})]})})});}export default BookCard;","map":{"version":3,"names":["React","useEffect","useState","Link","jsx","_jsx","jsxs","_jsxs","BookCard","props","_useState","_useState2","_slicedToArray","author","setAuthor","_useState3","_useState4","categories","setCategories","fetchCategories","book","id","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","concat","sent","json","t0","console","error","stop","apply","arguments","fetchAuthor","_ref2","_callee2","_callee2$","_context2","authorId","result","className","children","style","boxShadow","to","src","image","borderRadius","objectFit","height","alt","textDecoration","color","name","map","category","fontSize","textAlign","overflow","description","createdAt","createdBy"],"sources":["C:/Users/User/Desktop/LibraryClient/booklibrary/src/Components/Page/BookCard.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { CategoryModel, bookModel } from \"../../Interfaces\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\ninterface Props {\r\n  book: bookModel;\r\n}\r\n\r\ninterface Author {\r\n  id: number;\r\n  name: string;\r\n}\r\n\r\nfunction BookCard(props: Props) {\r\n const [author, setAuthor] = useState<Author | null>(null);\r\n const [categories, setCategories] = useState<CategoryModel[]>([]);\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, [props.book.id]);\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await fetch(\r\n        `https://blibraryapi.azurewebsites.net/api/Book/${props.book.id}/categories`\r\n      );\r\n      const data = await response.json();\r\n      setCategories(data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching categories:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchAuthor();\r\n  }, []);\r\n\r\n  const fetchAuthor = async () => {\r\n    try {\r\n      const response = await fetch(\r\n        `https://blibraryapi.azurewebsites.net/api/author/${props.book.authorId}`\r\n      );\r\n      const data = await response.json();\r\n      setAuthor(data.result);\r\n    } catch (error) {\r\n      console.error(\"Error fetching author:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"col-md-4 col-12 p-5\">\r\n      <div\r\n        className=\"card\"\r\n        style={{ boxShadow: \"0 1px 7px 0 rgb(0 0 0 / 50%)\" }}\r\n      >\r\n        <div className=\"card-body pt-3\">\r\n          <div className=\"row col-10 offset-1 p-2\">\r\n            <Link to={`/bookDetails/${props.book.id}`}>\r\n              <img\r\n                src={props.book.image}\r\n                style={{\r\n                  borderRadius: \"5%\",\r\n                  objectFit: \"cover\",\r\n                  height: \"350px\",\r\n                }}\r\n                alt=\"\"\r\n                className=\"w-100 mt-1 image-box\"\r\n              />\r\n            </Link>\r\n          </div>\r\n\r\n          <div className=\"text-center\">\r\n            <p className=\"card-title m-0 text-success fs-3\">\r\n              <Link\r\n                to={`/bookDetails/${props.book.id}`}\r\n                style={{ textDecoration: \"none\", color: \"green\" }}\r\n              >\r\n                {props.book.name}\r\n              </Link>\r\n            </p>\r\n\r\n            <div className=\"d-flex flex-wrap justify-content-center pb-3\">\r\n              {categories.map((category) => (\r\n                <span\r\n                  key={category.id}\r\n                  className=\"badge bg-secondary m-1\"\r\n                  style={{ fontSize: \"12px\" }}\r\n                >\r\n                  {category.name}\r\n                </span>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <p\r\n            className=\"card-text\"\r\n            style={{ textAlign: \"center\", height: \"120px\", overflow: \"hidden\" }}\r\n          >\r\n            {props.book.description}\r\n          </p>\r\n          <div className=\"row text-center\" style={{ color: \"green\"}}>\r\n            <h4>{author ? author.name : \"Loading author...\"}</h4>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <p className=\"badge bg-secondary\" style={{ fontSize: \"12px\" }}>\r\n              {props.book.createdAt}\r\n            </p>\r\n            <p>Created by: {props.book.createdBy}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}