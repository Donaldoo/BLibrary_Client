{"ast":null,"code":"import{createApi,fetchBaseQuery}from\"@reduxjs/toolkit/query/react\";var bookApi=createApi({reducerPath:\"bookApi\",baseQuery:fetchBaseQuery({baseUrl:\"https://blibraryapi.azurewebsites.net/\",prepareHeaders:function prepareHeaders(headers,api){var token=localStorage.getItem(\"token\");token&&headers.append(\"Authorization\",\"Bearer \"+token);}}),tagTypes:[\"Books\"],endpoints:function endpoints(builder){return{getBooks:builder.query({query:function query(){return{url:\"api/book\"};},providesTags:[\"Books\"]}),getBookById:builder.query({query:function query(id){return{url:\"api/book/\".concat(id)};},providesTags:[\"Books\"]}),getCategoriesByBookId:builder.query({query:function query(id){return{url:\"api/Book/\".concat(id,\"/categories\")};}}),getAuthorsWithBookCount:builder.query({query:function query(){return{url:\"authors-with-book-count\"};}}),updateBook:builder.mutation({query:function query(_ref){var data=_ref.data,id=_ref.id;return{url:\"api/book/\"+id,method:\"PUT\",body:data};},invalidatesTags:[\"Books\"]}),createBook:builder.mutation({query:function query(data){return{url:\"api/book\",method:\"POST\",body:data};},invalidatesTags:[\"Books\"]}),deleteBook:builder.mutation({query:function query(id){return{url:\"api/book/\"+id,method:\"DELETE\"};},invalidatesTags:[\"Books\"]})};}});var useGetBooksQuery=bookApi.useGetBooksQuery,useGetBookByIdQuery=bookApi.useGetBookByIdQuery,useGetCategoriesByBookIdQuery=bookApi.useGetCategoriesByBookIdQuery,useGetAuthorsWithBookCountQuery=bookApi.useGetAuthorsWithBookCountQuery,useUpdateBookMutation=bookApi.useUpdateBookMutation,useCreateBookMutation=bookApi.useCreateBookMutation,useDeleteBookMutation=bookApi.useDeleteBookMutation;export{useGetBooksQuery,useGetBookByIdQuery,useGetCategoriesByBookIdQuery,useGetAuthorsWithBookCountQuery,useUpdateBookMutation,useCreateBookMutation,useDeleteBookMutation};export default bookApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","bookApi","reducerPath","baseQuery","baseUrl","prepareHeaders","headers","api","token","localStorage","getItem","append","tagTypes","endpoints","builder","getBooks","query","url","providesTags","getBookById","id","concat","getCategoriesByBookId","getAuthorsWithBookCount","updateBook","mutation","_ref","data","method","body","invalidatesTags","createBook","deleteBook","useGetBooksQuery","useGetBookByIdQuery","useGetCategoriesByBookIdQuery","useGetAuthorsWithBookCountQuery","useUpdateBookMutation","useCreateBookMutation","useDeleteBookMutation"],"sources":["C:/Users/User/Desktop/LibraryClient/booklibrary/src/Apis/bookApi.ts"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\r\n\r\nconst bookApi = createApi({\r\n  reducerPath: \"bookApi\",\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: \"https://blibraryapi.azurewebsites.net/\",\r\n    prepareHeaders: (headers: Headers, api) => {\r\n      const token = localStorage.getItem(\"token\");\r\n      token && headers.append(\"Authorization\", \"Bearer \" + token);\r\n    },\r\n  }),\r\n  tagTypes: [\"Books\"],\r\n  endpoints: (builder) => ({\r\n    getBooks: builder.query({\r\n      query: () => ({\r\n        url: \"api/book\",\r\n      }),\r\n      providesTags: [\"Books\"],\r\n    }),\r\n\r\n    getBookById: builder.query({\r\n      query: (id) => ({\r\n        url: `api/book/${id}`,\r\n      }),\r\n      providesTags: [\"Books\"],\r\n    }),\r\n\r\n    getCategoriesByBookId: builder.query({\r\n      query: (id) => ({\r\n        url: `api/Book/${id}/categories`,\r\n      }),\r\n    }),\r\n    getAuthorsWithBookCount: builder.query({\r\n      query: () => ({\r\n        url: \"authors-with-book-count\",\r\n      }),\r\n    }),\r\n\r\n    updateBook: builder.mutation({\r\n      query: ({ data, id }) => ({\r\n        url: \"api/book/\" + id,\r\n        method: \"PUT\",\r\n        body: data,\r\n      }),\r\n      invalidatesTags: [\"Books\"],\r\n    }),\r\n\r\n    createBook: builder.mutation({\r\n      query: (data: FormData) => ({\r\n        url: \"api/book\",\r\n        method: \"POST\",\r\n        body: data,\r\n      }),\r\n      invalidatesTags: [\"Books\"],\r\n    }),\r\n\r\n    deleteBook: builder.mutation({\r\n      query: (id) => ({\r\n        url: \"api/book/\" + id,\r\n        method: \"DELETE\",\r\n      }),\r\n      invalidatesTags: [\"Books\"],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useGetBooksQuery,\r\n  useGetBookByIdQuery,\r\n  useGetCategoriesByBookIdQuery,\r\n  useGetAuthorsWithBookCountQuery,\r\n  useUpdateBookMutation,\r\n  useCreateBookMutation,\r\n  useDeleteBookMutation,\r\n} = bookApi;\r\nexport default bookApi;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}