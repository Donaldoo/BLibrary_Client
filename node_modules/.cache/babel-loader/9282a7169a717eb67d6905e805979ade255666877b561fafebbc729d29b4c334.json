{"ast":null,"code":"import{createApi,fetchBaseQuery}from\"@reduxjs/toolkit/query/react\";var authorApi=createApi({reducerPath:\"authorPath\",baseQuery:fetchBaseQuery({baseUrl:\"https://blibraryapi.azurewebsites.net/api\",prepareHeaders:function prepareHeaders(headers,api){var token=localStorage.getItem(\"token\");token&&headers.append(\"Authorization\",\"Bearer \"+token);}}),tagTypes:[\"Authors\"],endpoints:function endpoints(builder){return{getAuthorById:builder.query({query:function query(id){return{url:\"author/\".concat(id)};},providesTags:[\"Authors\"]}),getAuthors:builder.query({query:function query(){return{url:\"author\"};},providesTags:[\"Authors\"]}),updateAuthor:builder.mutation({query:function query(_ref){var data=_ref.data,id=_ref.id;return{url:\"author/\"+id,method:\"PUT\",body:data};},invalidatesTags:[\"Authors\"]}),createAuthor:builder.mutation({query:function query(formData){return{url:\"author\",method:\"POST\",body:formData};},invalidatesTags:[\"Authors\"]}),deleteAuthor:builder.mutation({query:function query(id){return{url:\"author/\"+id,method:\"DELETE\"};},invalidatesTags:[\"Authors\"]})};}});var useGetAuthorsQuery=authorApi.useGetAuthorsQuery,useGetAuthorByIdQuery=authorApi.useGetAuthorByIdQuery,useUpdateAuthorMutation=authorApi.useUpdateAuthorMutation,useCreateAuthorMutation=authorApi.useCreateAuthorMutation,useDeleteAuthorMutation=authorApi.useDeleteAuthorMutation;export{useGetAuthorsQuery,useGetAuthorByIdQuery,useUpdateAuthorMutation,useCreateAuthorMutation,useDeleteAuthorMutation};export default authorApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","authorApi","reducerPath","baseQuery","baseUrl","prepareHeaders","headers","api","token","localStorage","getItem","append","tagTypes","endpoints","builder","getAuthorById","query","id","url","concat","providesTags","getAuthors","updateAuthor","mutation","_ref","data","method","body","invalidatesTags","createAuthor","formData","deleteAuthor","useGetAuthorsQuery","useGetAuthorByIdQuery","useUpdateAuthorMutation","useCreateAuthorMutation","useDeleteAuthorMutation"],"sources":["C:/Users/User/Desktop/LibraryClient/booklibrary/src/Apis/authorApi.ts"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\r\n\r\nconst authorApi = createApi({\r\n  reducerPath: \"authorPath\",\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: \"https://blibraryapi.azurewebsites.net/api\",\r\n    prepareHeaders: (headers: Headers, api) => {\r\n      const token = localStorage.getItem(\"token\");\r\n      token && headers.append(\"Authorization\", \"Bearer \" + token);\r\n    },\r\n  }),\r\n  tagTypes: [\"Authors\"],\r\n  endpoints: (builder) => ({\r\n    getAuthorById: builder.query({\r\n      query: (id) => ({\r\n        url: `author/${id}`,\r\n      }),\r\n      providesTags: [\"Authors\"],\r\n    }),\r\n    getAuthors: builder.query({\r\n      query: () => ({\r\n        url: \"author\",\r\n      }),\r\n      providesTags: [\"Authors\"],\r\n    }),\r\n    updateAuthor: builder.mutation({\r\n      query: ({ data, id }) => ({\r\n        url: \"author/\" + id,\r\n        method: \"PUT\",\r\n        body: data,\r\n      }),\r\n      invalidatesTags: [\"Authors\"],\r\n    }),\r\n\r\n    createAuthor: builder.mutation({\r\n      query: (formData: FormData) => ({\r\n        url: \"author\",\r\n        method: \"POST\",\r\n        body: formData,\r\n      }),\r\n      invalidatesTags: [\"Authors\"],\r\n    }),\r\n\r\n    deleteAuthor: builder.mutation({\r\n      query: (id) => ({\r\n        url: \"author/\" + id,\r\n        method: \"DELETE\",\r\n      }),\r\n      invalidatesTags: [\"Authors\"],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useGetAuthorsQuery,\r\n  useGetAuthorByIdQuery,\r\n  useUpdateAuthorMutation,\r\n  useCreateAuthorMutation,\r\n  useDeleteAuthorMutation,\r\n} = authorApi;\r\nexport default authorApi;\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,cAAc,KAAQ,8BAA8B,CAExE,GAAM,CAAAC,SAAS,CAAGF,SAAS,CAAC,CAC1BG,WAAW,CAAE,YAAY,CACzBC,SAAS,CAAEH,cAAc,CAAC,CACxBI,OAAO,CAAE,2CAA2C,CACpDC,cAAc,CAAE,SAAAA,eAACC,OAAgB,CAAEC,GAAG,CAAK,CACzC,GAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3CF,KAAK,EAAIF,OAAO,CAACK,MAAM,CAAC,eAAe,CAAE,SAAS,CAAGH,KAAK,CAAC,CAC7D,CACF,CAAC,CAAC,CACFI,QAAQ,CAAE,CAAC,SAAS,CAAC,CACrBC,SAAS,CAAE,SAAAA,UAACC,OAAO,QAAM,CACvBC,aAAa,CAAED,OAAO,CAACE,KAAK,CAAC,CAC3BA,KAAK,CAAE,SAAAA,MAACC,EAAE,QAAM,CACdC,GAAG,WAAAC,MAAA,CAAYF,EAAE,CACnB,CAAC,EAAC,CACFG,YAAY,CAAE,CAAC,SAAS,CAC1B,CAAC,CAAC,CACFC,UAAU,CAAEP,OAAO,CAACE,KAAK,CAAC,CACxBA,KAAK,CAAE,SAAAA,MAAA,QAAO,CACZE,GAAG,CAAE,QACP,CAAC,EAAC,CACFE,YAAY,CAAE,CAAC,SAAS,CAC1B,CAAC,CAAC,CACFE,YAAY,CAAER,OAAO,CAACS,QAAQ,CAAC,CAC7BP,KAAK,CAAE,SAAAA,MAAAQ,IAAA,KAAG,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAER,EAAE,CAAAO,IAAA,CAAFP,EAAE,OAAQ,CACxBC,GAAG,CAAE,SAAS,CAAGD,EAAE,CACnBS,MAAM,CAAE,KAAK,CACbC,IAAI,CAAEF,IACR,CAAC,EAAC,CACFG,eAAe,CAAE,CAAC,SAAS,CAC7B,CAAC,CAAC,CAEFC,YAAY,CAAEf,OAAO,CAACS,QAAQ,CAAC,CAC7BP,KAAK,CAAE,SAAAA,MAACc,QAAkB,QAAM,CAC9BZ,GAAG,CAAE,QAAQ,CACbQ,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEG,QACR,CAAC,EAAC,CACFF,eAAe,CAAE,CAAC,SAAS,CAC7B,CAAC,CAAC,CAEFG,YAAY,CAAEjB,OAAO,CAACS,QAAQ,CAAC,CAC7BP,KAAK,CAAE,SAAAA,MAACC,EAAE,QAAM,CACdC,GAAG,CAAE,SAAS,CAAGD,EAAE,CACnBS,MAAM,CAAE,QACV,CAAC,EAAC,CACFE,eAAe,CAAE,CAAC,SAAS,CAC7B,CAAC,CACH,CAAC,EACH,CAAC,CAAC,CAEK,GACL,CAAAI,kBAAkB,CAKhB/B,SAAS,CALX+B,kBAAkB,CAClBC,qBAAqB,CAInBhC,SAAS,CAJXgC,qBAAqB,CACrBC,uBAAuB,CAGrBjC,SAAS,CAHXiC,uBAAuB,CACvBC,uBAAuB,CAErBlC,SAAS,CAFXkC,uBAAuB,CACvBC,uBAAuB,CACrBnC,SAAS,CADXmC,uBAAuB,CACX,OAAAJ,kBAAA,CAAAC,qBAAA,CAAAC,uBAAA,CAAAC,uBAAA,CAAAC,uBAAA,EACd,cAAe,CAAAnC,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}