{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Desktop/LibraryClient/booklibrary/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/User/Desktop/LibraryClient/booklibrary/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/User/Desktop/LibraryClient/booklibrary/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useDeleteBookMutation,useGetBooksQuery}from\"../../Apis/bookApi\";import MainLoader from\"../../Components/Common/MainLoader\";import{useNavigate}from\"react-router-dom\";import withAuth from\"../../HOC/withAuth\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ListBooks(){var _useGetBooksQuery=useGetBooksQuery(null),data=_useGetBooksQuery.data,isLoading=_useGetBooksQuery.isLoading;var _useDeleteBookMutatio=useDeleteBookMutation(),_useDeleteBookMutatio2=_slicedToArray(_useDeleteBookMutatio,1),deleteBook=_useDeleteBookMutatio2[0];var navigate=useNavigate();var handleBookDelete=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:toast.promise(deleteBook(id),{pending:'Processing your request...',success:'Book deleted successfully ðŸ‘Œ',error:'Error encountered ðŸ¤¯'},{theme:\"dark\"});case 1:case\"end\":return _context.stop();}},_callee);}));return function handleBookDelete(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[isLoading&&/*#__PURE__*/_jsx(MainLoader,{}),!isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"table p-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-success\",children:\"Books List\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:function onClick(){return navigate(\"/crud/bookUpsert\");},children:\"Add a new book\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row border\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:\"Image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:\"ID\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:\"Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:\"Description\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:\"Created at\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:\"Created by\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:\"Action\"})]}),data.result.map(function(book){return/*#__PURE__*/_jsxs(\"div\",{className:\"row border\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:/*#__PURE__*/_jsx(\"img\",{src:book.image,alt:\"no content\",style:{width:\"100%\",maxWidth:\"120px\"}})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:book.id}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:book.name}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:book.description}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:book.createdAt}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:book.createdBy}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-1\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-pencil-fill\",onClick:function onClick(){return navigate(\"/crud/bookUpsert/\"+book.id);}})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mx-2\",onClick:function onClick(){return handleBookDelete(book.id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash-fill\"})})]})]},book.id);})]})]})]});}export default withAuth(ListBooks);","map":{"version":3,"names":["useDeleteBookMutation","useGetBooksQuery","MainLoader","useNavigate","withAuth","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ListBooks","_useGetBooksQuery","data","isLoading","_useDeleteBookMutatio","_useDeleteBookMutatio2","_slicedToArray","deleteBook","navigate","handleBookDelete","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","wrap","_callee$","_context","prev","next","promise","pending","success","error","theme","stop","_x","apply","arguments","children","className","onClick","result","map","book","src","image","alt","style","width","maxWidth","name","description","createdAt","createdBy"],"sources":["C:/Users/User/Desktop/LibraryClient/booklibrary/src/Pages/CRUD/ListBooks.tsx"],"sourcesContent":["import { useDeleteBookMutation, useGetBooksQuery, useGetCategoriesByBookIdQuery } from \"../../Apis/bookApi\";\r\nimport MainLoader from \"../../Components/Common/MainLoader\";\r\nimport { bookModel } from \"../../Interfaces\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport withAuth from \"../../HOC/withAuth\";\r\nimport { toast } from \"react-toastify\";\r\n\r\n\r\nfunction ListBooks() {\r\n  const { data, isLoading } = useGetBooksQuery(null);\r\n  const [deleteBook] = useDeleteBookMutation();\r\n  const navigate = useNavigate();\r\n\r\n\r\n  const handleBookDelete = async (id: number) => {\r\n    toast.promise(\r\n      deleteBook(id),\r\n      {\r\n        pending: 'Processing your request...',\r\n        success: 'Book deleted successfully ðŸ‘Œ',\r\n        error: 'Error encountered ðŸ¤¯'\r\n      },\r\n      {\r\n          theme: \"dark\",\r\n      }\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <MainLoader />}\r\n      {!isLoading && (\r\n        <div className=\"table p-5\">\r\n          <div className=\"d-flex align-items-center justify-content-between\">\r\n            <h1 className=\"text-success\">Books List</h1>\r\n            <button\r\n              className=\"btn btn-success\"\r\n              onClick={() => navigate(\"/crud/bookUpsert\")}\r\n            >\r\n              Add a new book\r\n            </button>\r\n          </div>\r\n          <div className=\"p-2\">\r\n            <div className=\"row border\">\r\n              <div className=\"col-1\">Image</div>\r\n              <div className=\"col-1\">ID</div>\r\n              <div className=\"col-2\">Name</div>\r\n              <div className=\"col-2\">Description</div>\r\n              <div className=\"col-2\">Created at</div>\r\n              <div className=\"col-2\">Created by</div>\r\n              <div className=\"col-1\">Action</div>\r\n            </div>\r\n\r\n            {data.result.map((book: bookModel) => {\r\n              return (\r\n                <div className=\"row border\" key={book.id}>\r\n                  <div className=\"col-1\">\r\n                    <img\r\n                      src={book.image}\r\n                      alt=\"no content\"\r\n                      style={{ width: \"100%\", maxWidth: \"120px\" }}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-1\">{book.id}</div>\r\n                  <div className=\"col-2\">{book.name}</div>\r\n                  <div className=\"col-2\">{book.description}</div>\r\n                  <div className=\"col-2\">{book.createdAt}</div>\r\n                  <div className=\"col-2\">{book.createdBy}</div>\r\n                  <div className=\"col-1\">\r\n                    <button className=\"btn btn-success\">\r\n                      <i\r\n                        className=\"bi bi-pencil-fill\"\r\n                        onClick={() => navigate(\"/crud/bookUpsert/\" + book.id)}\r\n                      ></i>\r\n                    </button>\r\n                    <button className=\"btn btn-danger mx-2\"\r\n                    onClick={() => handleBookDelete(book.id)}>\r\n                      <i className=\"bi bi-trash-fill\"></i>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withAuth(ListBooks);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}